# 2.3 Siv3Dの基本

## 2.3.1 include

Siv3Dを使用する際は、必ず `Siv3D.hpp` をインクルードする必要がある。
```cpp
# include <Siv3D.hpp>
```
これだけで、Siv3Dのほぼ全ての機能を使えるようになる（上級者向け・実験的な機能は別途マクロ定義が必要）。

1章で解説した `iostream` や、ずっと使っている `stdio.h` などに含まれる機能は、インクルードしても使用できないので注意。もちろん、それに代わる機能がSiv3Dにも用意されている。

## 2.3.2 Main()関数

`int main()` でおなじみの`main()`関数は、Siv3D内部で実装されており、Siv3Dの初期化や終了を行うコードが既に実装されている。

私たちは、Siv3Dに用意されたメインループである `void Main()` の中にプログラムを書くことになる。

## 2.3.3 最小のプログラム

ここまで学んだことから、プリセットのコードをすべて消して、以下のコードが最小のプログラムだとわかる。
```cpp
# include <Siv3D.hpp>

void Main() {

}
```
しかし、ウィンドウを出す処理をしていないので、これを実行してもウィンドウは出ないのである。

## 2.3.4 メインループ

ウィンドウを出すためのメインループは、以下のコードで実装する。
```cpp
	while (System::Update()) {

	}
```
このコードを`Main()`関数内に追加しよう。

`Siv3D App`という名前のウィンドウが出たはずだ。

`System::Update()`関数は、普段は`True`を返すが、`ESC`キーが押されたり、`System::Exit()`関数が呼ばれたりすると`False`を返す（この組み合わせは変更することも可能）。
`while()`文は条件式がtrueの場合のみループが回るので、`False`が返された場合にはメインループの終了、すなわちプログラムが終了される。

## 2.3.5 Hello, Siv3D!

このままではただの黒画面。ひとまず画面に文字を表示してみよう。

`Print`に`<<`でデータを送ると、それが文字列に変換され画面に表示される。

ここでは文字列を扱うための`String`型を用いて`Hello, Siv3D!`と表示する。`String`型は`U"hoge"`で記述できる。`U`を忘れないように注意。

```cpp
	Print << U"Hello, Siv3D!";
```
これを`while(System::Update())`の前に記述して実行してみよう。画面に文字列が表示されたはずだ。

## 2.3.6 いろいろPrint

他にもいろいろ`Print`してみよう。
```cpp
	// Hello, Siv3D!
	Print << U"Hello, Siv3D!";
	// 日本語もOK
	Print << U"展示大賞とるぞ！";
	// 2つ繋げる
	Print << U"APCC" << 34;
	// 計算もできる
	Print << U"33 + 4 =" << 33 + 4;
	// 配列の中身も出せる
	Print << Range(0, 10);
	// 座標も出せる
	Print << Vec2(34, 2019);
```
- `Range(begin, end)`: beginからendまでの配列を返す。
- `Vec2(x, y)`: 2次元座標。3次元もあるよ。

また、こうして画面に表示された文字は自分で削除することもできる。
```cpp
	int32 count = 0; // Windows,mac,Linux間での互換性のため
	while(System::Update()) {
		ClearPrint();
		Print << count;
		++count;
	}
```

## 2.3.7 Siv3Dの命名規則

Siv3Dでは、class名やnamaspace名・グローバルな関数には `UpperCamelCase` が、classのメンバ変数･メソッドには `lowerCamelCase` が使用されている。自分たちがコードを書く際もこれに従うと、命名規則が一致してきれいなコードになるだろう。
