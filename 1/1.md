# 1.1 CとC++の違い
C言語のプログラムとC++のプログラムを比べてみよう。

C言語のソース:
```c
#include<stdio.h>
int main(){
  printf("Hello,world!\n");
  return 0;
}
```

C++のソース:
```cpp
#include<stdio.h>
int main(){
  printf("Hello,world!\n");
  return 0;
}
```

そう、もう気づいたと思うがC言語そのままのプログラムで動作する。
これは、C++はC言語を拡張して作られた言語だからである。
拡張されているので、もちろんC++特有の書き方も存在する。
例として、先程のソースをC++の機能を使って書くとこうなる。
```cpp
#include<iostream>
int main(){
  std::cout<<"Hello,world!\n";
}
```

なんとなくの意味は把握できるのではないだろうか。
さて新しい書き方もいくつか登場しているので次の節で解説していこう。

## 1.1.1 C++の新しい書き方
先のプログラムで新しく登場した書き方を解説していく。

### `#include<iostream>`
includeで入出力用のプログラムを読み込んでいる。
ただ、ここでは`iostream`というファイルを読み込んでいて、ファイル名の`io`は例によって`Input Output`である。
C++では、機能追加をするのに関数呼び出し以外の書き方でも書けるようになっていて、C++らしく、楽に表示を行うことができる。

### `std::cout`
`std::`というのは *名前空間(namespace)* という機能のもので、使いたいライブラリと同じ関数名が使えない などの問題を回避することができる。
C++で用意されているもの(STLといいます)は`std`名前空間の中に存在しているので、使う時は先頭に`std::`をつける。

出力。これに対して`<<`をすると表示される。
printfのように型を指定する必要がなくなっている。
(→コラム オーバーロード)

### `cstdio`
`stdio.h`はC言語のためのファイル、末尾の`.h`をとって先頭に`c`をつけるC++用のファイルも存在する。
互換性のためどちらも使えるようになっているが、後者を使うことをおすすめする。

## 1.1.a コラム:オーバーロード
C++では、関数の引数の型によって挙動を変えることができる。
また、任意の演算子(存在するものに限る)を関数によって実装することができるようになっている。
このため、coutに`<<`という演算子を使うと型によって表示する処理を変えることができ、先の書き方ができる。

## 1.1.2 STLの便利な機能たち
### string
使用するには`string`をincludeする。
stringは文字列を扱うことができる。Cと違うのは
- 長さが事前に分かっていなくても良い
- 文字列同士を比較することができる
- 文字をあとから追加/削除することができる

などである。
使い方:
```cpp
std::string s;
std::cin>>s; // 入力
std::cout<<s.size()<<"\n"; // 文字数
s.push_back('!');
std::cout<<s<<"\n";
```

### vector
使用するには`vector`をincludeする。
vectorは可変長配列を扱うことができる。Cと違うのは
- プログラム実行時に長さがわかっていればよい(ソースに長さを書かなくてよい)
- 要素をあとから追加/削除することができる

などである。
使い方:
```cpp
std::vector<int> v;
v.push_back(0);
v.push_back(1);
v.push_back(2);
std::cout<<v.size()<<"\n"; // 要素数
for(int i=0; i<v.size(); ++i) {
  std::cout<<v[i]<<"\n";
}
for(int x:v) {// C++新機能
  std::cout<<x<<"\n";
}
```

### スマートポインタ/iterator
どちらもポインタを安全、便利に使うための機能である。詳細は省略する。興味があれば調べてみてほしい。
